# ===========================================
# ОСНОВНЫЕ НАСТРОЙКИ
# ===========================================

# Окружение
NODE_ENV=development
ENVIRONMENT=development
DEBUG=true

# Сервер
HOST=0.0.0.0
PORT=8000
FRONTEND_PORT=5173

# ===========================================
# БАЗА ДАННЫХ
# ===========================================

# Supabase (рекомендуется)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# Или прямая PostgreSQL
DATABASE_URL=postgresql://user:password@localhost:5432/samokoder

# ===========================================
# БЕЗОПАСНОСТЬ
# ===========================================

# JWT
JWT_SECRET=your-super-secret-jwt-key-here-32-chars
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# API Encryption
API_ENCRYPTION_KEY=your-32-character-secret-key-here
API_ENCRYPTION_SALT=samokoder_salt_2025

# ===========================================
# AI ПРОВАЙДЕРЫ
# ===========================================

# OpenAI
OPENAI_API_KEY=sk-your-openai-key

# Anthropic
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key

# Groq
GROQ_API_KEY=gsk_your-groq-key

# OpenRouter
OPENROUTER_API_KEY=sk-or-your-openrouter-key

# ===========================================
# КЭШИРОВАНИЕ И СЕССИИ
# ===========================================

# Redis
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your-redis-password

# ===========================================
# МОНИТОРИНГ
# ===========================================

# Sentry
SENTRY_DSN=https://your-sentry-dsn

# Prometheus
ENABLE_METRICS=true
METRICS_PORT=9090

# ===========================================
# ФАЙЛЫ И ХРАНИЛИЩЕ
# ===========================================

# Пути
EXPORT_STORAGE_PATH=./exports
WORKSPACE_STORAGE_PATH=./workspaces
MAX_FILE_SIZE_MB=50

# ===========================================
# RATE LIMITING
# ===========================================

# Лимиты
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ===========================================
# GPT-PILOT
# ===========================================

# GPT-Pilot интеграция
GPT_PILOT_PATH=./samokoder-core
GPT_PILOT_TIMEOUT=300

# ===========================================
# CORS
# ===========================================

# Разрешенные домены (comma-separated)
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,https://yourdomain.com
CORS_ALLOW_CREDENTIALS=true

# ===========================================
# CIRCUIT BREAKER
# ===========================================

# General Circuit Breaker Settings
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60
CIRCUIT_BREAKER_SUCCESS_THRESHOLD=3
CIRCUIT_BREAKER_TIMEOUT=30

# Service-specific timeouts
CIRCUIT_BREAKER_AI_TIMEOUT=60
CIRCUIT_BREAKER_DB_TIMEOUT=10

# ===========================================
# SECURITY POLICIES
# ===========================================

# Content Security Policy
CSP_CONNECT_SRC='self' https://api.openai.com https://api.anthropic.com https://openrouter.ai
CSP_DEFAULT_SRC='self'