# –°–≤–æ–¥–Ω—ã–π –æ—Ç—á–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–≥–æ –∞—É–¥–∏—Ç–∞

**–î–∞—Ç–∞**: 2025-10-06  
**–ê—É–¥–∏—Ç–æ—Ä**: CTO/–ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä  
**–ü—Ä–∏–Ω—Ü–∏–ø—ã**: –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å, –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å, –°–ª–æ–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

## –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —Ä–µ–∑—é–º–µ

–ü—Ä–æ–≤–µ–¥–µ–Ω —Ç–æ—á–µ—á–Ω—ã–π –∞—É–¥–∏—Ç –≥—Ä–∞–Ω–∏—Ü –º–æ–¥—É–ª–µ–π, –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π. –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ **5 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–π** –æ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏. –í—Å–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã —Å —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ —Ñ–∞–π–ª—ã/—Å—Ç—Ä–æ–∫–∏. –°–æ–∑–¥–∞–Ω—ã –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø–∞—Ç—á–∏ –±–µ–∑ –Ω–∞—Ä—É—à–µ–Ω–∏—è –ø—É–±–ª–∏—á–Ω—ã—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤.

## –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ

| ID | –ü—Ä–æ–±–ª–µ–º–∞ | –§–∞–π–ª:–°—Ç—Ä–æ–∫–∞ | –í–ª–∏—è–Ω–∏–µ | ADR |
|----|----------|-------------|---------|-----|
| 1 | –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≤–µ—Ä—Å–∏–π –≤ lock-—Ñ–∞–π–ª–µ | `requirements-lock.txt:119`<br>`requirements.txt:75` | –ù–µ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã–µ —Å–±–æ—Ä–∫–∏ | ADR-AUDIT-001 |
| 2 | –ù–∞—Ä—É—à–µ–Ω–∏–µ –≥—Ä–∞–Ω–∏—Ü –º–æ–¥—É–ª–µ–π | `backend/api/ai.py:10`<br>`backend/api/*.py` | –¢–µ—Å–Ω–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å, —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è | ADR-AUDIT-002 |
| 3 | –ó–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | `backend/main.py:49-68,97-106`<br>`frontend/vite.config.ts:103-110` | –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ | ADR-AUDIT-003 |

### üü° –í–∞–∂–Ω—ã–µ

| ID | –ü—Ä–æ–±–ª–µ–º–∞ | –§–∞–π–ª:–°—Ç—Ä–æ–∫–∞ | –í–ª–∏—è–Ω–∏–µ | ADR |
|----|----------|-------------|---------|-----|
| 4 | –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π lifecycle DI | `backend/core/dependency_injection.py:162-190` | –£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏, —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã | ADR-AUDIT-004 |
| 5 | –ó–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ | `backend/patterns/circuit_breaker.py:20-26` | –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫—É | ADR-AUDIT-005 |

## –ü—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã–µ –ø–∞—Ç—á–∏

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–±–µ–∑ –Ω–∞—Ä—É—à–µ–Ω–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤)

1. **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** (`requirements.txt`)
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: `qrcode>=7.4.2,<9.0.0` –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å lock-—Ñ–∞–π–ª–æ–º

2. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** (`config/settings.py`)
   - –î–æ–±–∞–≤–ª–µ–Ω–æ: `cors_allowed_origins`, `cors_origins_list` property
   - –î–æ–±–∞–≤–ª–µ–Ω–æ: Circuit breaker –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å env vars
   - –î–æ–±–∞–≤–ª–µ–Ω–æ: CSP policy configuration —Å `csp_policy` property

3. **Circuit Breaker** (`backend/patterns/circuit_breaker.py`)
   - –î–æ–±–∞–≤–ª–µ–Ω–æ: `get_circuit_breaker_config(service_type)` —Ñ–∞–±—Ä–∏–∫–∞
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —á–µ—Ä–µ–∑ defaults

4. **–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã**
   - –°–æ–∑–¥–∞–Ω–æ: `backend/contracts/rbac.py` - RBACServiceProtocol
   - –°–æ–∑–¥–∞–Ω–æ: `backend/contracts/mfa.py` - MFAServiceProtocol
   - –°–æ–∑–¥–∞–Ω–æ: `backend/api/dependencies.py` - DI providers –¥–ª—è API

5. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** (`.env.example`)
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ –Ω–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏

### üìã –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–û–±–Ω–æ–≤–∏—Ç—å API endpoints** –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `backend/api/dependencies.py`
   ```python
   # backend/api/ai.py
   from backend.api.dependencies import provide_ai_service
   
   @router.post("/chat")
   async def chat(ai_service: AIServiceProtocol = Depends(provide_ai_service)):
       ...
   ```

2. **–û–±–Ω–æ–≤–∏—Ç—å main.py** –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è externalized config
   ```python
   # backend/main.py
   app.add_middleware(
       CORSMiddleware,
       allow_origins=settings.cors_origins_list,
       ...
   )
   
   response.headers["Content-Security-Policy"] = settings.csp_policy
   ```

3. **–û–±–Ω–æ–≤–∏—Ç—å frontend** –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è env var
   ```typescript
   // frontend/vite.config.ts
   target: process.env.VITE_API_URL || 'http://localhost:8000'
   ```

4. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º** –≤ DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
   ```python
   # backend/core/dependency_injection.py
   from backend.contracts.rbac import RBACServiceProtocol
   container.register_singleton(RBACServiceProtocol, RBACService)
   ```

## –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

### –î–æ –∞—É–¥–∏—Ç–∞
- ‚ùå –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å —Å–±–æ—Ä–∫–∏: **–ù–∞—Ä—É—à–µ–Ω–∞** (lock file mismatch)
- ‚ùå –°–ª–æ–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: **–ß–∞—Å—Ç–∏—á–Ω–æ –Ω–∞—Ä—É—à–µ–Ω–∞** (–ø—Ä—è–º—ã–µ –∏–º–ø–æ—Ä—Ç—ã)
- ‚ùå –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: **–ó–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–∞** (CORS, CSP, timeouts)
- ‚ö†Ô∏è –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å: **–ù–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞**

### –ü–æ—Å–ª–µ –ø–∞—Ç—á–µ–π
- ‚úÖ –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å —Å–±–æ—Ä–∫–∏: **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞**
- ‚úÖ –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã: **–û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã** (5 –Ω–æ–≤—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤)
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: **–≠–∫—Å—Ç–µ—Ä–Ω–∞–ª–∏–∑–æ–≤–∞–Ω–∞** (12+ –Ω–æ–≤—ã—Ö env vars)
- ‚úÖ –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å: **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞** (per-service timeouts)
- üîÑ –°–ª–æ–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: **–í –ø—Ä–æ—Ü–µ—Å—Å–µ** (–Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å API endpoints)

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ** (Breaking changes –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç):
   - ‚úÖ –ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤—Å–µ –ø–∞—Ç—á–∏ –∏–∑ —ç—Ç–æ–≥–æ PR
   - ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å .env —Ñ–∞–π–ª—ã –≤ –æ–∫—Ä—É–∂–µ–Ω–∏—è—Ö

2. **–í —Å–ª–µ–¥—É—é—â–µ–º —Å–ø—Ä–∏–Ω—Ç–µ** (—Ç—Ä–µ–±—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞):
   - –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ API endpoints –¥–ª—è DI
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –Ω–æ–≤—ã—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
   - –ú–∏–≥—Ä–∞—Ü–∏—è CI/CD –¥–ª—è –Ω–æ–≤—ã—Ö env vars

3. **–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ**:
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –≥—Ä–∞–Ω–∏—Ü –º–æ–¥—É–ª–µ–π (–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ç–µ—Å—Ç—ã)
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ circuit breaker –º–µ—Ç—Ä–∏–∫
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ env vars –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ

## ADR –¥–æ–∫—É–º–µ–Ω—Ç—ã

1. [ADR-AUDIT-001: –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π](./ADR-AUDIT-001-dependency-reproducibility.md)
2. [ADR-AUDIT-002: –ì—Ä–∞–Ω–∏—Ü—ã –º–æ–¥—É–ª–µ–π](./ADR-AUDIT-002-module-boundary-violation.md)
3. [ADR-AUDIT-003: –≠–∫—Å—Ç–µ—Ä–Ω–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏](./ADR-AUDIT-003-configuration-externalization.md)
4. [ADR-AUDIT-004: Lifecycle DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞](./ADR-AUDIT-004-di-container-lifecycle.md)
5. [ADR-AUDIT-005: Circuit Breaker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](./ADR-AUDIT-005-circuit-breaker-configuration.md)

## –†–∏—Å–∫–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### –†–∏—Å–∫–∏
- ‚ö†Ô∏è –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ API endpoints –º–æ–∂–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–∞—Ä—É—à–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- ‚ö†Ô∏è –ù–æ–≤—ã–µ env vars —Ç—Ä–µ–±—É—é—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è DevOps

### –ú–∏tig–∞—Ü–∏—è
- ‚úÖ –í—Å–µ –ø–∞—Ç—á–∏ –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã (fallback –Ω–∞ defaults)
- ‚úÖ –ü—É–±–ª–∏—á–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –Ω–µ –Ω–∞—Ä—É—à–µ–Ω—ã
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ ADR

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ê—É–¥–∏—Ç –≤—ã—è–≤–∏–ª —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å—é –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–æ—Å—Ç—å—é. –ü—Ä–∏–º–µ–Ω–µ–Ω—ã **–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø–∞—Ç—á–∏** –±–µ–∑ breaking changes. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ API layer –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –ø—Ä–∏–Ω—Ü–∏–ø–∞–º —Å–ª–æ–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

**–û—Ü–µ–Ω–∫–∞ –∑—Ä–µ–ª–æ—Å—Ç–∏**: 6/10 ‚Üí 8/10 (–ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π)

---
**–ü–æ–¥–ø–∏—Å—å**: CTO/Architect  
**–°—Ç–∞—Ç—É—Å**: –ì–æ—Ç–æ–≤–æ –∫ —Ä–µ–≤—å—é
