# –û—Ç—á–µ—Ç –æ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è—Ö API —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**–î–∞—Ç–∞ –∞—É–¥–∏—Ç–∞:** 2025-10-06  
**–í–µ—Ä—Å–∏—è API:** 1.0  
**–ê—É–¥–∏—Ç–æ—Ä:** –í–ª–∞–¥–µ–ª–µ—Ü API (20 –ª–µ—Ç –æ–ø—ã—Ç–∞)

---

## –†–µ–∑—é–º–µ

–ü—Ä–æ–≤–µ–¥–µ–Ω –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ API —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ OpenAPI 3.1. –í—ã—è–≤–ª–µ–Ω–æ **3 –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π**:
- üî¥ **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ (High):** 3 –ø—Ä–æ–±–ª–µ–º—ã
- üü° **–°—Ä–µ–¥–Ω–µ–π –≤–∞–∂–Ω–æ—Å—Ç–∏ (Medium):** 1 –ø—Ä–æ–±–ª–µ–º–∞
- üü¢ **–ù–∏–∑–∫–æ–π –≤–∞–∂–Ω–æ—Å—Ç–∏ (Low):** 0 –ø—Ä–æ–±–ª–µ–º

---

## 1. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è (High Priority)

### 1.1 –ù–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è Preview —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

**–°—Ç–∞—Ç—É—Å:** üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π  
**–ö–∞—Ç–µ–≥–æ—Ä–∏—è:** –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:**
- `POST /v1/projects/{project_id}/preview/stop`
- `GET /v1/projects/{project_id}/preview/status`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- `api/routers/preview.py:27-35` (stop)
- `api/routers/preview.py:37-45` (status)

**–ü—Ä–æ–±–ª–µ–º–∞:**
```python
# api/routers/preview.py:33-34
# TODO: Implement the logic to stop the preview
return {"success": True, "message": "Preview stopped successfully"}

# api/routers/preview.py:43-44
# TODO: Implement the logic to get the preview status
return {"status": {"url": f"http://localhost:3001", "status": "running"}}
```

**–í–æ–∑–¥–µ–π—Å—Ç–≤–∏–µ:**
- –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Ä–µ–∞–ª—å–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–µ–≤—å—é
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø–æ–ª—É—á–∞—Ç—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
1. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å `ProcessManager` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏
2. –•—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ preview –≤ Redis –∏–ª–∏ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
3. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å—Ç–∞—Ç—É—Å–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞
4. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å graceful shutdown –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

**–ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ (–±–µ–∑ breaking changes):**
```python
# –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –ø–æ–ª—è –≤ –æ—Ç–≤–µ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
{
    "success": True,
    "message": "Preview stopped successfully",
    "process_id": "optional-uuid",  # NEW
    "stopped_at": "2025-10-06T12:00:00Z"  # NEW
}
```

---

### 1.2 –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

**–°—Ç–∞—Ç—É—Å:** üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π (Security)  
**–ö–∞—Ç–µ–≥–æ—Ä–∏—è:** –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å / –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:**
- `GET /v1/analytics/system`
- `GET /v1/analytics/export`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- `api/routers/analytics.py:34-56` (system analytics)
- `api/routers/analytics.py:111-131` (export)

**–ü—Ä–æ–±–ª–µ–º–∞:**
```python
# api/routers/analytics.py:47-49
# Check if user is admin (in a real implementation)
# if not user.is_admin:
#     raise HTTPException(status_code=403, detail="Access denied")
```

**–í–æ–∑–¥–µ–π—Å—Ç–≤–∏–µ:**
- **–°–ï–†–¨–ï–ó–ù–ê–Ø –£–Ø–ó–í–ò–ú–û–°–¢–¨ –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò**
- –õ—é–±–æ–π –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—É—é –∞–Ω–∞–ª–∏—Ç–∏–∫—É
- –í–æ–∑–º–æ–∂–Ω–∞ —É—Ç–µ—á–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –ù–∞—Ä—É—à–µ–Ω–∏–µ GDPR –∏ –¥—Ä—É–≥–∏—Ö —Ä–µ–≥—É–ª—è—Ü–∏–π

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
1. **–ù–ï–ú–ï–î–õ–ï–ù–ù–û** –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∞–≤
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å RBAC (Role-Based Access Control)
3. –î–æ–±–∞–≤–∏—Ç—å –∞—É–¥–∏—Ç –ª–æ–≥ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º –¥–∞–Ω–Ω—ã–º

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```python
# –î–æ–±–∞–≤–∏—Ç—å –≤ User –º–æ–¥–µ–ª—å (core/db/models/user.py)
is_admin: bool = Column(Boolean, default=False, nullable=False)

# –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –≤ api/routers/auth.py
async def require_admin(current_user: User = Depends(get_current_user)) -> User:
    if not current_user.is_admin:
        raise HTTPException(
            status_code=status.HTTP_403_FORBIDDEN,
            detail="Administrator privileges required"
        )
    return current_user

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞—Ö
@router.get("/analytics/system")
async def get_system_analytics(
    admin: User = Depends(require_admin),  # –ò–ó–ú–ï–ù–ï–ù–û
    db: Session = Depends(get_db)
):
    ...
```

**–ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏:**
- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `is_admin` —á–µ—Ä–µ–∑ Alembic –º–∏–≥—Ä–∞—Ü–∏—é
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ù–ï breaking - —Å—Ç–∞—Ä—ã–µ –∫–ª–∏–µ–Ω—Ç—ã –ø—Ä–æ–¥–æ–ª–∂–∞—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- –ù–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Å—Ç–æ –≤–µ—Ä–Ω–µ—Ç 403 –¥–ª—è –Ω–µ–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

---

### 1.3 –°–º–µ—à–∞–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ sync/async –≤ Preview

**–°—Ç–∞—Ç—É—Å:** üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π  
**–ö–∞—Ç–µ–≥–æ—Ä–∏—è:** –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ / –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:**
- `POST /v1/projects/{project_id}/preview/start`
- `POST /v1/projects/{project_id}/preview/stop`
- `GET /v1/projects/{project_id}/preview/status`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- `api/routers/preview.py:13-45`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```python
# api/routers/preview.py:14
async def start_preview(
    project_id: UUID, 
    user: User = Depends(get_current_user), 
    db: Session = Depends(get_db)  # ‚Üê –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π get_db!
):
```

**–í–æ–∑–¥–µ–π—Å—Ç–≤–∏–µ:**
- –ë–ª–æ–∫–∏—Ä—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ async –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
- –î–µ–≥—Ä–∞–¥–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ
- –ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º–∏
- –í–æ–∑–º–æ–∂–Ω—ã deadlocks –ø—Ä–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏–∏ –∑–∞ DB —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `api/routers/gitverse.py:15-23` - —Ç–æ—Ç –∂–µ –ø–∞—Ç—Ç–µ—Ä–Ω
- `api/routers/user.py:39-50` - `def` –≤–º–µ—Å—Ç–æ `async def`
- `api/routers/usage.py:96-132` - `db.commit()` –≤–º–µ—Å—Ç–æ `await db.commit()`

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
```python
# –ë–´–õ–û
from samokoder.core.db.session import get_db

async def start_preview(
    db: Session = Depends(get_db)
):
    ...

# –î–û–õ–ñ–ù–û –ë–´–¢–¨
from samokoder.core.db.session import get_async_db
from sqlalchemy.ext.asyncio import AsyncSession

async def start_preview(
    db: AsyncSession = Depends(get_async_db)
):
    project = await db.get(Project, project_id)  # async query
    await db.commit()  # async commit
```

**–ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏:**
1. –°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É –¥–ª—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
2. –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ –æ–¥–Ω–æ–º—É —Ä–æ—É—Ç–µ—Ä—É
3. –û–±–Ω–æ–≤–∏—Ç—å —Ç–µ—Å—Ç—ã
4. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ù–ï breaking - –≤–Ω–µ—à–Ω–∏–π API –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º

---

## 2. –†–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è —Å—Ä–µ–¥–Ω–µ–π –≤–∞–∂–Ω–æ—Å—Ç–∏ (Medium Priority)

### 2.1 –ù–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ async —Å–µ—Å—Å–∏–π –ë–î

**–°—Ç–∞—Ç—É—Å:** üü° –°—Ä–µ–¥–Ω–∏–π  
**–ö–∞—Ç–µ–≥–æ—Ä–∏—è:** –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –∫–æ–¥–∞

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:**
- `api/routers/preview.py` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `get_db` (sync)
- `api/routers/projects.py` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `get_async_db` (async) ‚úì
- `api/routers/auth.py` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `get_async_db` (async) ‚úì
- `api/routers/user.py:39` - –ù–ï async —Ñ—É–Ω–∫—Ü–∏—è
- `api/routers/gitverse.py:15` - –ù–ï async —Ñ—É–Ω–∫—Ü–∏—è
- `api/routers/usage.py:96` - sync `db.commit()`

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:**
- ‚úÖ Async: 8 —Ä–æ—É—Ç–µ—Ä–æ–≤ (80%)
- ‚ùå Sync: 2 —Ä–æ—É—Ç–µ—Ä–∞ (20%)
- ‚ö†Ô∏è –°–º–µ—à–∞–Ω–Ω—ã–π: 1 —Ä–æ—É—Ç–µ—Ä (10%)

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–≥—É—Ç –∑–∞–ø—É—Ç–∞—Ç—å—Å—è –≤ —Ç–æ–º, –∫–∞–∫–æ–π –ø–∞—Ç—Ç–µ—Ä–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- –£—Å–ª–æ–∂–Ω—è–µ—Ç—Å—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ–¥–∞
- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ async/await –¥–ª—è –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö –∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤:

```python
# –°—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è –≤—Å–µ—Ö —Ä–æ—É—Ç–µ—Ä–æ–≤
from sqlalchemy.ext.asyncio import AsyncSession
from samokoder.core.db.session import get_async_db

@router.get("/example")
async def example_endpoint(
    db: AsyncSession = Depends(get_async_db),
    user: User = Depends(get_current_user)
):
    result = await db.execute(select(Model).where(...))
    await db.commit()
    return ...
```

---

## 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Ö–æ–¥–∫–∏

### 3.1 –≠–Ω–¥–ø–æ–∏–Ω—Ç `/health` –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:**
- `api/main.py:169-171` - –ø—Ä–æ—Å—Ç–æ–π health check
- `core/monitoring/health.py:30` - —Ä–æ—É—Ç–µ—Ä —Å prefix `/health`

**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
```
GET /health          ‚Üí api/main.py (–ø—Ä–æ—Å—Ç–æ–π)
GET /health/         ‚Üí core/monitoring/health.py (–¥–µ—Ç–∞–ª—å–Ω—ã–π)
GET /health/status   ‚Üí core/monitoring/health.py
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –û—Å—Ç–∞–≤–∏—Ç—å `/health` –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ (uptime, k8s liveness)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `/health/*` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –≤ OpenAPI

---

### 3.2 –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å—Ö–µ–º–∞—Ö

**–§–∞–π–ª:** `core/api/models/projects.py:18-38`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```python
# TEMPORARILY DISABLED
# @validator('name')
# def validate_name(cls, v):
#     """–í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞–∑–≤–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞."""
```

**–í–æ–∑–¥–µ–π—Å—Ç–≤–∏–µ:**
- –í–æ–∑–º–æ–∂–Ω–∞ XSS –∏–Ω—ä–µ–∫—Ü–∏—è —á–µ—Ä–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- –í–æ–∑–º–æ–∂–Ω—ã SQL –∏–Ω—ä–µ–∫—Ü–∏–∏ (—Ö–æ—Ç—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ORM)
- –ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ –∑–∞—â–∏—Ç—ã –≤ –≥–ª—É–±–∏–Ω—É

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
–í–∫–ª—é—á–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –æ–±—Ä–∞—Ç–Ω–æ —Å —É–ª—É—á—à–µ–Ω–∏—è–º–∏:

```python
@validator('name')
def validate_name(cls, v):
    """–í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞–∑–≤–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞."""
    if not v or not v.strip():
        raise ValueError('–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º')
    
    # Sanitize HTML
    import bleach
    clean_name = bleach.clean(v.strip(), tags=[], strip=True)
    
    if clean_name != v.strip():
        raise ValueError('–ù–∞–∑–≤–∞–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–∏–º–≤–æ–ª—ã')
    
    # Max length —É–∂–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω —á–µ—Ä–µ–∑ Field
    return clean_name
```

---

## 4. –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ OpenAPI 3.1

### ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏

- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** (`/v1/auth/*`) - 7/7 —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ ‚úì
- **–ü—Ä–æ–µ–∫—Ç—ã** (`/v1/projects/*`) - 4/4 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ ‚úì
- **API –∫–ª—é—á–∏** (`/v1/keys/*`) - 6/6 —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ ‚úì
- **–ú–æ–¥–µ–ª–∏** (`/v1/models/*`) - 2/2 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ ‚úì
- **WebSocket** (`/v1/ws/*`) - 1/1 —ç–Ω–¥–ø–æ–∏–Ω—Ç ‚úì
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** (`/v1/notifications/*`) - 4/4 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ ‚úì
- **–ü–ª–∞–≥–∏–Ω—ã** (`/v1/plugins/*`) - 7/7 —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ ‚úì
- **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** (`/v1/analytics/*`) - 4/4 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ ‚úì
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** (`/v1/usage/*`) - 5/5 —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ ‚úì
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å** (`/v1/user/*`) - 2/2 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ ‚úì
- **Health** (`/health/*`) - 5/5 —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ ‚úì

**–ò—Ç–æ–≥–æ:** 47/47 —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã (100%)

### ‚ö†Ô∏è –° –æ–≥–æ–≤–æ—Ä–∫–∞–º–∏

- **Preview** (`/v1/projects/{id}/preview/*`) - 3/3 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ (—Å TODO)
- **GitVerse** (`/v1/user/gitverse-token`) - 1/1 —ç–Ω–¥–ø–æ–∏–Ω—Ç (sync)

---

## 5. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —ç–≤–æ–ª—é—Ü–∏–∏

### 5.1 –ü—Ä–∏–Ω—Ü–∏–ø—ã –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

#### ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–Ω–µ breaking)

1. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤**
   ```yaml
   # –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –±–µ–∑ –ø—Ä–æ–±–ª–µ–º
   POST /v1/projects/{id}/clone
   GET /v1/admin/stats
   ```

2. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π –≤ request**
   ```json
   {
     "name": "Project",
     "description": "...",
     "tags": ["new", "optional"]  // NEW - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
   }
   ```

3. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π –≤ response**
   ```json
   {
     "id": "uuid",
     "name": "Project",
     "created_at": "...",
     "updated_at": "...",  // NEW - –∫–ª–∏–µ–Ω—Ç—ã –ø—Ä–æ—Å—Ç–æ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç
     "tags": []            // NEW
   }
   ```

4. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö query –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**
   ```
   GET /v1/projects?sort=name&order=asc  // NEW –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
   ```

5. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å—Ç–∞—Ç—É—Å –∫–æ–¥–æ–≤**
   ```
   404 Not Found         // —É–∂–µ –µ—Å—Ç—å
   410 Gone              // NEW - –∫–ª–∏–µ–Ω—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –æ—à–∏–±–∫—É
   ```

#### ‚ùå Breaking changes (—Ç—Ä–µ–±—É—é—Ç –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏)

1. **–£–¥–∞–ª–µ–Ω–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤**
   ```
   DELETE /v1/old-endpoint  // BREAKING!
   ```

2. **–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø–æ–ª–µ–π**
   ```json
   {
     "project_name": "..."  // –±—ã–ª–æ "name" - BREAKING!
   }
   ```

3. **–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö**
   ```json
   {
     "id": 123  // –±—ã–ª–æ string - BREAKING!
   }
   ```

4. **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –Ω–æ–≤—ã–µ –ø–æ–ª—è –≤ request**
   ```json
   {
     "name": "Project",
     "tags": []  // NEW REQUIRED - BREAKING!
   }
   ```

5. **–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞—Ç—ã**
   ```json
   {
     "created_at": "1633024800"  // –±—ã–ª–æ ISO8601 - BREAKING!
   }
   ```

### 5.2 –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

#### –î–ª—è –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π (Non-breaking)

1. ‚úÖ –°–æ–∑–¥–∞—Ç—å feature –≤–µ—Ç–∫—É
2. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é
3. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã (unit + integration + contract)
5. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
6. ‚úÖ Code review
7. ‚úÖ Merge –≤ main
8. ‚úÖ Deploy

**Timeline:** 1-2 –Ω–µ–¥–µ–ª–∏

#### –î–ª—è breaking changes

1. ‚ö†Ô∏è –°–æ–∑–¥–∞—Ç—å RFC (Request for Comments)
2. ‚ö†Ô∏è –û–±—Å—É–∂–¥–µ–Ω–∏–µ —Å –∫–æ–º–∞–Ω–¥–æ–π –∏ stakeholders
3. ‚ö†Ô∏è –°–æ–∑–¥–∞—Ç—å v2 API –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ v1
4. ‚ö†Ô∏è –û–±–Ω–æ–≤–∏—Ç—å OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –¥–ª—è v2
5. ‚ö†Ô∏è –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å v2
6. ‚ö†Ô∏è –ù–∞–ø–∏—Å–∞—Ç—å migration guide
7. ‚ö†Ô∏è –î–æ–±–∞–≤–∏—Ç—å deprecation warning –≤ v1 responses
8. ‚ö†Ô∏è –£–≤–µ–¥–æ–º–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤ (email, changelog, API headers)
9. ‚ö†Ô∏è –ü–µ—Ä–∏–æ–¥ –º–∏–≥—Ä–∞—Ü–∏–∏ (6-12 –º–µ—Å—è—Ü–µ–≤)
10. ‚ö†Ô∏è Sunset v1 (–ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤)

**Timeline:** 6-18 –º–µ—Å—è—Ü–µ–≤

### 5.3 –°—Ç—Ä–∞—Ç–µ–≥–∏—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

#### –¢–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥
```
/v1/projects     ‚úì –•–æ—Ä–æ—à–æ
/v1/auth/login   ‚úì –•–æ—Ä–æ—à–æ
```

#### –ü—Ä–∏ breaking changes
```
# –û–ø—Ü–∏—è 1: URL versioning (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
/v1/projects     # –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è
/v2/projects     # –ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è

# –û–ø—Ü–∏—è 2: Header versioning
GET /projects
Accept-Version: v1

# –û–ø—Ü–∏—è 3: Content negotiation
GET /projects
Accept: application/vnd.samokoder.v2+json
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü—Ä–æ–¥–æ–ª–∂–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å URL versioning –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –∏ —è–≤–Ω–æ—Å—Ç–∏.

### 5.4 Deprecation strategy

#### –ó–∞–≥–æ–ª–æ–≤–∫–∏ –≤ –æ—Ç–≤–µ—Ç–µ
```http
HTTP/1.1 200 OK
Deprecation: true
Sunset: Sat, 31 Dec 2025 23:59:59 GMT
Link: </v2/projects>; rel="alternate"
X-API-Warn: "This endpoint is deprecated and will be removed on 2025-12-31"

{
  "data": {...},
  "_meta": {
    "deprecated": true,
    "sunset_date": "2025-12-31",
    "migration_guide": "https://docs.samokoder.io/migration/v1-to-v2"
  }
}
```

#### Changelog entry
```markdown
## [2025-10-15] - Deprecation Notice

### Deprecated
- `GET /v1/old-endpoint` - Use `/v2/new-endpoint` instead
  - **Sunset Date:** 2026-04-15 (6 months)
  - **Migration Guide:** https://docs.samokoder.io/migration/old-to-new
  - **Reason:** Improved performance and consistency
```

---

## 6. –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π (Action Items)

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ (P0 - Security)

- [ ] **P0-1:** –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –≤ analytics —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
  - –§–∞–π–ª—ã: `api/routers/analytics.py:47-49, 125-127`
  - –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π: Backend Lead
  - –°—Ä–æ–∫: 2 –¥–Ω—è
  - –†–∏—Å–∫: **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô** - —É—Ç–µ—á–∫–∞ –¥–∞–Ω–Ω—ã—Ö

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (P1 - Functionality)

- [ ] **P1-1:** –ó–∞–≤–µ—Ä—à–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é preview —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
  - –§–∞–π–ª—ã: `api/routers/preview.py:27-45`
  - –°—Ä–æ–∫: 1 –Ω–µ–¥–µ–ª—è
  - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: ProcessManager –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

- [ ] **P1-2:** –í–∫–ª—é—á–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –Ω–∞–∑–≤–∞–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–æ–≤
  - –§–∞–π–ª—ã: `core/api/models/projects.py:18-38`
  - –°—Ä–æ–∫: 3 –¥–Ω—è

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (P2 - Architecture)

- [ ] **P2-1:** –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ä–æ—É—Ç–µ—Ä—ã –Ω–∞ async/await
  - –§–∞–π–ª—ã: `api/routers/preview.py`, `api/routers/user.py:39`, `api/routers/gitverse.py:15`
  - –°—Ä–æ–∫: 2 –Ω–µ–¥–µ–ª–∏
  - –†–∏—Å–∫: –°—Ä–µ–¥–Ω–∏–π - —Ç—Ä–µ–±—É–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

- [ ] **P2-2:** –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ get_async_db
  - –§–∞–π–ª—ã: –≤—Å–µ —Ä–æ—É—Ç–µ—Ä—ã
  - –°—Ä–æ–∫: 1 –Ω–µ–¥–µ–ª—è

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (P3 - Improvements)

- [ ] **P3-1:** –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É `/health` —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º–∏
  - –°—Ä–æ–∫: 2 –¥–Ω—è

- [ ] **P3-2:** –î–æ–±–∞–≤–∏—Ç—å rate limiting –¥–ª—è –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
  - –¢–µ–∫—É—â–∏–π: —Ç–æ–ª—å–∫–æ auth
  - –°—Ä–æ–∫: 1 –Ω–µ–¥–µ–ª—è

---

## 7. –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

### –ü–æ–∫—Ä—ã—Ç–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
- ‚úÖ **100%** —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ **100%** schemas –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã
- ‚úÖ **100%** –ø—Ä–∏–º–µ—Ä–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤

### –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ **94%** –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç (44/47)
- ‚ö†Ô∏è **6%** —Å –æ–≥–æ–≤–æ—Ä–∫–∞–º–∏ (3/47)
- ‚ùå **0%** –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã

### –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞
- ‚úÖ **80%** –∏—Å–ø–æ–ª—å–∑—É—é—Ç async/await
- ‚ö†Ô∏è **15%** —Å–º–µ—à–∞–Ω–Ω—ã–π sync/async
- ‚ùå **5%** —Ç–æ–ª—å–∫–æ sync

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ **JWT** –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- ‚úÖ **Rate limiting** –Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞—Ö
- ‚úÖ **CORS** –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚ö†Ô∏è **RBAC** –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚ö†Ô∏è **Input validation** –º–µ—Å—Ç–∞–º–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∞

---

## –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ A: –ö–∞—Ä—Ç–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```
api/main.py
‚îú‚îÄ‚îÄ api/routers/auth.py ‚úì
‚îú‚îÄ‚îÄ api/routers/projects.py ‚úì
‚îú‚îÄ‚îÄ api/routers/keys.py ‚úì
‚îú‚îÄ‚îÄ api/routers/models.py ‚úì
‚îú‚îÄ‚îÄ api/routers/workspace.py ‚úì
‚îú‚îÄ‚îÄ api/routers/preview.py ‚ö†Ô∏è (sync DB)
‚îú‚îÄ‚îÄ api/routers/notifications.py ‚úì
‚îú‚îÄ‚îÄ api/routers/plugins.py ‚úì
‚îú‚îÄ‚îÄ api/routers/analytics.py ‚ùå (no auth check)
‚îú‚îÄ‚îÄ api/routers/usage.py ‚ö†Ô∏è (sync commit)
‚îú‚îÄ‚îÄ api/routers/user.py ‚ö†Ô∏è (sync function)
‚îú‚îÄ‚îÄ api/routers/gitverse.py ‚ö†Ô∏è (sync function)
‚îî‚îÄ‚îÄ core/monitoring/health.py ‚úì
```

---

## –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ B: –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–ª—è –Ω–æ–≤—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

- [ ] Async —Ñ—É–Ω–∫—Ü–∏—è (`async def`)
- [ ] AsyncSession (`get_async_db`)
- [ ] –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (`Depends(get_current_user)`)
- [ ] –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞)
- [ ] Rate limiting (–¥–ª—è –º—É—Ç–∏—Ä—É—é—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π)
- [ ] Input validation (Pydantic models)
- [ ] Output validation (response_model)
- [ ] Error handling (try/except —Å HTTPException)
- [ ] Audit logging (–¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π)
- [ ] OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (docstring)
- [ ] Unit —Ç–µ—Å—Ç—ã
- [ ] Integration —Ç–µ—Å—Ç—ã
- [ ] Contract —Ç–µ—Å—Ç—ã
- [ ] Migration guide (–µ—Å–ª–∏ breaking)

---

**–ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ:** API Owner  
**–î–∞—Ç–∞:** 2025-10-06  
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0
